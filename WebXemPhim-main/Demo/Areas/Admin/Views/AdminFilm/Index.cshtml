@model IEnumerable<Demo.Models.Phim>
@using Demo.Models;
@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

<section>
    <div class="container">
        <div class="card border-primary mb-2">
            <div class="border-top border-5 border-primary">
                <div class="card-header">
                    <div class="row align-content-center" style="height: 6rem">
                        <div class="col-12 my-4">
                            <div class="float-start fs-2 me-2 ms-1">Danh Sách Phim</div>
                            
                            <div class="float-end clearfix me-1">
                                <button type="button"
                                        class="btn btn-primary text-white"
                                        data-bs-toggle="modal"
                                        data-bs-target="#exampleModal">
                                        @Html.ActionLink("Add", "Create",null,null, new { @class = "nav-link text-white" })
                                    
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-body">
                <table class="table table-striped table-bordered">
                    <thead>
                        <tr>
                            <th scope="col" style="width: 15rem">Tên phim</th>
                            <th scope="col">Thể loại</th>
                            <th scope="col">Trạng thái</th>
                            <th scope="col">Quốc gia</th>
                            <th scope="col">Năm phát hành</th>
                            <th scope="col" style="width: 8rem"></th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                        <tr>

                            <td>
                                <div>
                                    <strong>@Html.DisplayFor(modelItem => item.ten_phim)</strong>
                                    
                                </div>
                                <div class="mx-3">
                                    <img src="@Url.Content("~/img/poster/"+  item.anh_bia)" alt="" width="200" height="300">
                                </div>
                            </td>
                            <td>
                                @foreach (var phim in item.ChiTietLoais)
                                {
                                    <p>@phim.Loai.ten_loai</p> 

                                }
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.TrangThai.ten_trang_thai)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.QuocGia.ten_quoc_gia)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.NamPhatHanh.nam_phat_hanh)
                            </td>
                            
                            @*<td>
                                <iframe width="300" height="200" src="@Html.DisplayFor(modelItem => item.trailer)" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

                            </td>
                            <td>
                                <iframe width="300" height="200" src="@Html.DisplayFor(modelItem => item.link_phim)" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

                            </td>*@

                        <td>
                            <div class="mx-3 my-5">
                                <button style="width: 5rem">
                                    <i class="fas fa-edit text-success">@Html.ActionLink("Edit", "Edit", new { id = item.id_phim })</i>
                                </button>
                            </div>
                            <div class="mx-3 my-5">
                                <button style="width: 5rem">
                                    <i class="fas fa-trash-alt text-danger">@Html.ActionLink("Delete", "Delete", new { id = item.id_phim })</i>
                                </button>
                            </div>
                        </td>
                        </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</section>
